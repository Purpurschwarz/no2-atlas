<!DOCTYPE HTML>
<!--
	Made with Horizons by TEMPLATED
	by templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>NO2 - Atlas Berlin</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<meta name="google-site-verification" content="AXZQmAsmCVV6Te_R2CUh4fFQ8EKZ7J1UGIuGIqM8Lzg" />
		<script src="/assets/js/jquery.min.js"></script>
		<script src="/assets/js/jquery.dropotron.min.js"></script>
		<script src="/assets/js/skel.min.js"></script>
		<script src="/assets/js/skel-layers.min.js"></script>
		<script src="/assets/js/init.js"></script>
		<script src="/assets/js/matomo.js"></script>
		<script src="/assets/js/TableSort.js"></script>

		</script>
		
			<link rel="stylesheet" type="text/css" href="/assets/css/skel.css" />
			<link rel="stylesheet" type="text/css" href="/assets/css/style.css" />
			
	</head>

	<!--<script>document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')</script>-->

	<body id="pro">
		<!-- Header -->
			<div id="header">
				<div class="container">

					<!-- Logo -->
						<h1><a href="/index.html" id="logo">BerlinAir NO2-Atlas</a></h1>

					<!-- Nav -->
	<nav id="nav">
		<ul>
			
			<li id="home" ><a href="/index.html">Home</a></li>
			<li id="blog" ><a href="/blog.html">Blog</a></li>
			<li id="mit">
				<a href="/mitmachen/mitmachen.html">Mitmachen</a>
				<ul>
					<li >
						<a href="/mitmachen/mitmachen-passiv.html">Probenahme mit Passivsammlern</a>
						<ul>
							<li><a href="/mitmachen/mitmachen-passiv.html#Sammler erhalten">Sammler erhalten</a></li>
							<li><a href="/mitmachen/mitmachen-passiv.html#Sammler benutzen">Sammler benutzen</a></li>
							<li><a href="/mitmachen/mitmachen-passiv.html#Sammler zurueckgeben">Sammler zurückgeben</a></li>
						</ul>
					</li>
					<li><a href="/mitmachen/mitmachen-laborworkshop.html">Im Laborworkshop</a></li>
					<li><a href="/mitmachen/mitmachen-schule.html">Als Schulprojekts mitmachen</a></li>
					<li><a href="/mitmachen/mitmachen-sensoren.html">Mit elektrischen Sensoren</a></li>
				</ul>
			</li>
			<li id="mess" ><a href="/messprinzip.html">Messprinzip</a></li>
			<li ><a href="http://karte.no2-atlas.de/" target="_blank">Karte</a></li>
			<li id="pro">
				<a href="/ueber_das_projekt/projektbeschreibung.html">Über das Projekt</a> 
				<ul>
					<li><a href="/ueber_das_projekt/projektbeschreibung.html">Über den NO2-Atlas</a></li>
					<li><a href="/ueber_das_projekt/presse.html">In der Presse</a></li>
					<li><a href="/ueber_das_projekt/ergebnisse.html">Ergebnisse</a></li>
					<li><a href="/ueber_das_projekt/videos.html">Videos</a></li>
				</ul>
			</li>
			<li id="down" ><a href="/downloads.html">Downloads</a></li>
		</ul>
	</nav>

				</div>
			</div>

	<div id="main" class="wrapper style1">
    <div class="container">
        <section>
            <header class="major">
                <h2>Ergebnisse</h2>
            </header>

            <button id="tabelleAnzeigenButton" onclick="createTable()">Tabelle anzeigen</button>
            <button id="tabelleEinblendenButton" onclick="showTable()" style="display: none;" >Tabelle einblenden</button>
            <button id="tabelleAusblendenButton" onclick="hideTable()" style="display: none;" >Tabelle ausblenden</button>
            
            <script>
            
                // only for table in ergebnisse.html
                
                function createTable() {
                    
                    document.getElementById("tabelleAnzeigenButton").style.display = "none";
                    document.getElementById("tabelleEinblendenButton").style.display = "none";
                    document.getElementById("tabelleAusblendenButton").style.display = "block";
                    document.getElementById("resultsTable").style.display = "block";
                    var tableCount = 0;

                    // http request
                    let requestUrl = "https://raw.githubusercontent.com/Purpurschwarz/no2-atlas/master/assets/new.json";
                    let request = new XMLHttpRequest();
                    request.open("GET", requestUrl);
                    request.responseType = 'json';
                    request.send();
                    request.onload = function() {
                        const json = request.response; 
                        makeTable(json);
                    }

                    // creating the table and filling it with date from an Rest-API
                    function makeTable(json) {

                        //making the table be rendered only once
                        if(tableCount === 0) {

                        // creating the table
                        var table = document.createElement('table');
                        table.setAttribute("class", "sortierbar");
                        
                        // creating tableheads with class "sortierbar" for sorting
                        var tableheads = ["Straße", "Hausnr.", "", "", "", "Breite", "Länge", "von", "bis", "Ort", "Kampagne", "Wert", "Sammler"]
                        var thead = document.createElement("thead");
                        var tr = document.createElement('tr');
                        var span = document.createElement('span');
                        span.setAttribute("class", "block");
                        for(let h=0; h<tableheads.length; h++) {
                            var th = document.createElement('th')
                            var span = document.createElement('span');
                            span.setAttribute("class", "block");
                            th.innerHTML = tableheads[h] + "△▽";
                            th.appendChild(span);
                            th.setAttribute("class", "sortierbar")
                            tr.appendChild(th);
                        }
                        thead.appendChild(tr);
                        table.appendChild(thead);

                        var tbody = document.createElement("tbody");

                        // iterating through the places
                        for(var i=0; i<json.places.length; i++) {

                            // iterating through the different measurements in the same place
                            for(var j=0; j<json.places[i].measurements.length; j++) {
                                var tr = document.createElement('tr');

                                    // creating the first columns with the data of the place
                                    for(var k=0; k<7; k++) {
                                        
                                        var td = document.createElement('td');
                                        td.innerHTML = Object.values(json.places[i])[k];
                                        tr.appendChild(td);
                                    }

                                    // creating the other columns with the data of the measurements
                                    for(var l=0; l<6; l++) {
                                        var td = document.createElement('td');
                                        td.innerHTML = Object.values(json.places[i].measurements[j])[l];
                                        tr.appendChild(td);
                                    }
                                    tbody.appendChild(tr);
                            }
                        
                            
                        }
                        table.appendChild(tbody);
                        document.getElementById('resultsTable').appendChild(table);
                        new JB_tableSort(table);
                        tableCount++;

                        }
                    }

                }

                function hideTable() {
                    document.getElementById("tabelleAnzeigenButton").style.display = "none";
                    document.getElementById("tabelleEinblendenButton").style.display = "block";
                    document.getElementById("tabelleAusblendenButton").style.display = "none";
                    document.getElementById("resultsTable").style.display = "none";
                }

                function showTable() {
                    document.getElementById("tabelleEinblendenButton").style.display = "none";
                    document.getElementById("tabelleAusblendenButton").style.display = "block";
                    document.getElementById("resultsTable").style.display = "block";
                }


            </script>


            <div id="resultsTable">
                
            </div>

      
        </section>
    </div>
</div>

		<!-- Footer -->
			<div id="footer">
				<div class="container">

					<!-- Lists -->
						<div class="row">
							<div class="8u">
								<section>
									<header class="major">
										<h2><img class="logo" src="/assets/images/TU_Logo_kurz_RGB_rot.svg" /></h2>
										<span class="byline">  </span>
											<span class="byline">Der NO2-Atlas ist ein Projekt des Fachgebiets Umweltchemie und Luftreinhaltung der TU Berlin. Es wird finanziert durch die Interne Forschungsförderung (Strategischer Call Citizen Science) der Technischen Universität Berlin.</span> <br>
										<span class="byline">&emsp;</span>
									</header>
									<div class="row">
										<section class="6u">
											<ul class="default">
												<li><a href="/credits.html">Copyright/Credits</a></li>
												<li><a href="/bildnachweise.html">Bildnachweise</a></li>
											</ul>
										</section>
										<section class="6u">
											<ul class="default">
												<li><a href="/impressum.html">Impressum</a></li>
												<li><a href="/datenschutz.html">Datenschutz</a></li>
											</ul>
										</section>
									</div>
								</section>
							</div>
							<div class="4u">
								<section>
									<header class="major">
										<h3>Kontakt</h3>
										
										<span class="byline">Annelie Höhne (Projektkoordinatorin)</span>
									</header>
									
									<ul class="contact">
										<li>
											<span>Straße des 17. Juni 135 <br />10623 Berlin</span>
										</li>
										<li id="schreibuns">
											<span class="mail">Mail:</span>
											<span id="schreibuns"> <A HREF="&#x6d;&#x61;&#x69;&#x6c;&#x74;&#x6f;&#x3a;&#x6e;&#x6f;&#x32;&#x2e;&#x61;&#x74;&#x6c;&#x61;&#x73;&#x40;&#x75;&#x63;&#x2e;&#x74;&#x75;&#x2d;&#x62;&#x65;&#x72;&#x6c;&#x69;&#x6e;&#x2e;&#x64;&#x65;">
												&#x6e;&#x6f;&#x32;&#x2e;&#x61;&#x74;&#x6c;&#x61;&#x73;&#x40;&#x75;&#x63;&#x2e;&#x74;&#x75;&#x2d;&#x62;&#x65;&#x72;&#x6c;&#x69;&#x6e;&#x2e;&#x64;&#x65;</A> </span>
										</li>
										<li>
											<span class="phone">Telefon:</span>
											<span>+49 30 314-25218</span>
										</li>
									</ul>
								</section>
							</div>
						</div>
 
						<!--<div class="copyright">
							Design: <a href="http://templated.co">TEMPLATED</a> Images: <a href="http://unsplash.com">Unsplash</a> (<a href="http://unsplash.com/cc0">CC0</a>)
						</div>
						-->
				</div>
			</div>

	</body>
</html>